/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
art = {
    "doc_name": "art",
    "assets": [{
        "id": 1,
        "address": [{
            "street": "4700 S. Dixie Highway",
            "city": "West Palm Beach",
            "state": "FL",
            "zip": 33401
        }],
        "latitude": "26.67",
        "longitude": "-80.055",
        "artworks": [{
            "artist_id": 4,
            "name": "Howley Restaurant Mural",
            "file_name": "IMG_8181.JPG"
        }, {
            "artist_id": 4,
            "name": "Howley Restaurant Mural",
            "file_name": "IMG_8182.JPG"
        }]
    }, {
        "id": 2,
        "address": [{
            "street": "326 Fern Street",
            "city": "West Palm Beach",
            "state": "FL",
            "zip": 33401
        }],
        "latitude": "26.71",
        "longitude": "-80.053",
        "artworks": [{
            "artist_id": 1,
            "name": "Alexander Lofts Mural",
            "file_name": "IMG_8183.JPG"
        }, {
            "artist_id": 1,
            "name": "Alexander Lofts Mural",
            "file_name": "IMG_8189.JPG"
        }]
    }, {
        "id": 3,
        "address": [{
            "street": "501 Fern Street",
            "city": "West Palm Beach",
            "state": "FL",
            "zip": 33401
        }],
        "latitude": "26.71",
        "longitude": "-80.053",
        "artworks": [{
            "artist_id": 5,
            "name": "Post Modern Paisley Mural",
            "file_name": "IMG_8194.JPG"
        }, {
            "artist_id": 6,
            "name": "Gorilla/Spray Can Mural",
            "file_name": "IMG_8195.JPG"
        }, {
            "artist_id": 6,
            "name": "Gorilla/Spray Can Mural",
            "file_name": "IMG_8196.JPG"
        }, {
            "artist_id": 2,
            "name": "Hands/Train Mural",
            "file_name": "IMG_8197.JPG"
        }, {
            "artist_id": 3,
            "name": "Train Mural",
            "file_name": "IMG_8199.JPG"
        }, {
            "artist_id": 4,
            "name": "Women Mural",
            "file_name": "IMG_8200.JPG"
        }, {
            "artist_id": 4,
            "name": "Women Mural",
            "file_name": "IMG_8201.JPG"
        }, {
            "artist_id": 7,
            "name": "Swimming Woman",
            "file_name": "IMG_8206.JPG"
        }]
    }, {
        "id": 4,
        "address": [{
            "street": "524 Datura Street",
            "city": "West Palm Beach",
            "state": "FL",
            "zip": 33401
        }],
        "latitude": "26.712139",
        "longitude": "-80.056388",
        "artworks": [{
            "artist_id": 2,
            "name": "Faces Mural",
            "file_name": "IMG_8210.JPG"
        }, {
            "artist_id": 2,
            "name": "Faces Mural",
            "file_name": "IMG_8216.JPG"
        }]
    }, {
        "id": 5,
        "address": [{
            "street": "501 Evernia Street",
            "city": "West Palm Beach",
            "state": "FL",
            "zip": 33401
        }],
        "latitude": "26.711712",
        "longitude": -80.056016,
        "artworks": [{
            "artist_id": 2,
            "name": "Cars Mural",
            "file_name": "IMG_8215.JPG"
        }]
    }, {
        "id": 6,
        "address": [{
            "street": "528 Clematis Street",
            "city": "West Palm Beach",
            "state": "FL",
            "zip": 33401
        }],
        "latitude": "26.713265",
        "longitude": "-80.05648",
        "artworks": [{
            "artist_id": 2,
            "name": "Landscape Mural",
            "file_name": "IMG_8222.JPG"
        }, {
            "artist_id": 2,
            "name": "Landscape Mural",
            "file_name": "IMG_8223.JPG"
        }, {
            "artist_id": 2,
            "name": "Landscape Mural",
            "file_name": "IMG_8227.JPG"
        }]
    }, {
        "id": 7,
        "address": [{
            "street": "518 Clematis Street",
            "city": "West Palm Beach",
            "state": "FL",
            "zip": 33401
        }],
        "latitude": "26.713137",
        "longitude": "-80.056149",
        "artworks": [{
            "artist_id": 2,
            "name": "Legendary Rockstars Mural",
            "file_name": "IMG_8229.JPG"
        }, {
            "artist_id": 2,
            "name": "Legendary Rockstars Mural",
            "file_name": "IMG_8232.JPG"
        }]
    }]
};

artist = {
    "doc_name": "artist",
    "artists": [{
            "id": 1,
            "name": [{
                "first": "Tristan",
                "last": "Eaton"
            }],
            "Biography": "Born in Los Angeles in 1978, Tristan began pursuing street art as a teenager, painting everything from walls to billboards in the urban landscape wherever he lived, including London, Detroit and Brooklyn. After growing up on comic books, graffiti and skateboard culture, Tristan designed his first toy for Fisher Price at 18 years old and began working as an artist full-time.",
            "URL": [{
                "URL1": "http://www.tristaneaton.net/"
            }]
        }, {
            "id": 2,
            "name": [{
                "first": "Ed",
                "last": "Mendienta"
            }],
            "Biography": "Originally from Union City, New Jersey, Eduardo Mendieta has been living in West Palm Beach for the last 20 years.  Progressing from canvas and paper works of art to large scale murals located throughout Downtown West Palm Beach. He was a featured artist for the Super Bowl XLVI Indianapolis Mural Project among many other local and national projects.",
            "URL": [{
                "URL1": "http://www.eduardomendieta.com/bio.php"
            }]
        }, {
            "id": 3,
            "name": [{
                "first": "Anthony",
                "last": "Hernandez"
            }],
            "Biography": "Born in Havana, Cuba raised in Chicago and currently residing in Palm Beach; Anthony Hernandez has an evident passion and love for art. He always emphasizes that",
        "URL": [{
            "URL1": "http://anthonyhernandezart.com/"
        }]    
    }, {
        "id": 4,
        "name": [{
            "first": "Amanda",
            "last": "Valdes"
        }],
        "Biography": "Miami native Amanda Valdes, 25, is a mainstay on the South Florida art scene. Her iconic macabre style is instantly recognizable and her impact has spread nationwide. Valdes� art focuses on the female identity, primarily drawing inspiration from �the whores in her head.",
        "URL": [{
            "URL1": "http://www.amandavaldes.com/"
        }]    
    }, {
        "id": 5,
        "name": [{
            "first": "Douglas",
            "last": "Hoekzema"
        }],
        "Biography": "About the artist: After earning his B.F.A. at Florida Atlantic University, Hoekzema explored mediums ranging from architecture to furniture design. His latest works combine the can techniques of graffiti art with layered abstract forms.",
        "URL": [{
            "URL1": "http:http://www.buttergallery.com/%23!hoekzema/c199t#!hoekzema/c199t"
        }]    
    }, {
        "id": 6,
        "name": [{
            "first": "Ruben",
            "last": "Ubiera"
        }],
        "Biography": "Ruben Gerardo Ubiera Gonzalez (born October 19, 1975 in Santo Domingo, Dominican Republic) is a Dominican neo-figurative artist, known for his strong use of the line, who has been drawing and painting ever since he had use of reason.",
        "URL": [{
            "URL1": "https://www.facebook.com/RubenUbiera"
            },{
            "URL2": "http://www.urbanpopsoul.com/"
        }]
    }]
};


$(document).ready(function() {
    if( $('.list-view').length ){
        loadTemplates();
    }

    if( $('.detail-view').length ){
        loadArtwork( getQueryVariable("artwork") );
    }
    
});

//GLoabls
var article = '';

function loadTemplates()
{
    tmp_article();
    
    var tmp_info = [];

    $.each(art['assets'], function(index, value) {
        var addr        = value['address'][0],
            artworks    = value['artworks'][0];

        //console.log(value['address'][0]['street']);
        tmp_info[index] = {};
        tmp_info[index].img = 'img/'+artworks['file_name'];
        tmp_info[index].p = addr['street'] + '<br/>'+addr['city']+', '+addr['state']+" "+addr['zip'];
        tmp_info[index].url = 'detail.html?artwork='+value['id'];
    });
    
  for(var i =0; i  < tmp_info.length; i++)
  {
    var str = article;
    str  = str.replace(':t1:',tmp_info[i].t1);
    str  = str.replace(':t2:',tmp_info[i].t2);
    str  = str.replace(':t3:',tmp_info[i].t3);
    str  = str.replace(':p:',tmp_info[i].p);
    str  = str.replace(':img:',tmp_info[i].img);

    str  = str.replace(':url:',tmp_info[i].url);
    str  = str.replace(':url:',tmp_info[i].url);
    str  = str.replace(':url:',tmp_info[i].url);
    //console.log(str);
    $('#content').append(str);
  }
}
function tmp_article()
{
    article = $('#content').html();
    $('#content').html('');
}

function loadArtwork (id) {
    var _id = id-1,
        piece = art['assets'][_id],
        artworks = piece['artworks'][0],
        _artist = artist['artists'][artworks['artist_id']],
        artistName = _artist['name'][0];
        console.log(artistName);

    $('.hero-img img').attr('src', 'img/'+artworks['file_name']);
    $('.piece-artist').text(artistName['first']+' '+artistName['last']);
    $('.bio-copy').text(_artist['Biography']);
    $('.artist-link').attr('href',_artist['URL'][0]['URL1']);
}

function getQueryVariable(variable)
{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
}